CREATE TABLE Users (
user_id SERIAL PRIMARY KEY,
username VARCHAR(50) NOT NULL,
password_hash VARCHAR(255) NOT NULL,
email VARCHAR(100) UNIQUE NOT NULL,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Sessions (
session_id SERIAL PRIMARY KEY,
user_id INTEGER REFERENCES Users(user_id) ON DELETE CASCADE,
ip_address VARCHAR(45) NOT NULL,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
expires_at TIMESTAMP NOT NULL
);

CREATE TABLE VPN_Servers (
server_id SERIAL PRIMARY KEY,
server_name VARCHAR(100) NOT NULL,
location VARCHAR(100) NOT NULL,
protocol VARCHAR(50) NOT NULL
);

CREATE TABLE Connections (
connection_id SERIAL PRIMARY KEY,
session_id INTEGER REFERENCES Sessions(session_id) ON DELETE CASCADE,
server_id INTEGER REFERENCES VPN_Servers(server_id) ON DELETE CASCADE,
start_time TIMESTAMP NOT NULL,
end_time TIMESTAMP
);

CREATE TABLE Logs (
log_id SERIAL PRIMARY KEY,
connection_id INTEGER REFERENCES Connections(connection_id) ON DELETE CASCADE,
log_message TEXT NOT NULL,
timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
